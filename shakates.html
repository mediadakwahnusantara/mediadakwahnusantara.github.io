<!DOCTYPE html>
<html>

<head>
    <!-- for non-UI builds: -->
    <script src="https://ajax.googleapis.com/ajax/libs/shaka-player/4.3.6/shaka-player.compiled.js"></script>

    <!-- or, for UI builds: -->
    <script src="https://ajax.googleapis.com/ajax/libs/shaka-player/4.3.6/shaka-player.ui.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/shaka-player/4.3.6/controls.css">
    <script defer src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"></script>
</head>

<!--<script type='text/javascript'>  
var isCtrl = false;
document.onkeyup=function(e)
{
if(e.which == 17)
isCtrl=false;
}
document.onkeydown=function(e)
{
if(e.which == 17)
isCtrl=true;
if((e.which == 85) || (e.which == 67) && isCtrl == true)
{
// alert(%8Keyboard shortcuts are cool!%9);
return false;
}
}
var isNS = (navigator.appName == "Netscape") ? 1 : 0;
if(navigator.appName == "Netscape") document.captureEvents(Event.MOUSEDOWN||Event.MOUSEUP);
function mischandler(){
return false;
}
function mousehandler(e){
var myevent = (isNS) ? e : event;
var eventbutton = (isNS) ? myevent.which : myevent.button;
if((eventbutton==2)||(eventbutton==3)) return false;
}
document.oncontextmenu = mischandler;
document.onmousedown = mousehandler;
document.onmouseup = mousehandler;  
  </script>
<script>if(window==window.top) document.location="https://www.google.com/"</script>

<script>var allowedDomains = ["#", "#"];</script><script>
  // Get the domain of the current page
  var currentDomain = location.hostname.split(".").slice(-2).join(".");
  
  // Check if the current domain is in the list of allowed domains
if (allowedReferers.indexOf(document.referrer) === -1) {
    // Redirect to an error page if the current domain is not allowed
    window.location = "http://error.com/";
  }
</script>-->

<body>
    <div data-shaka-player-container style="max-width:100em" data-shaka-player-cast-receiver-id="8D8C71A7" data-shaka-player-cast-android-receiver-compatible="true">
        <video poster="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhEJq8-hth02DQV5sT2iEbslrpoUmfX6iX3K54XdSYr7fGt1bzwO9MmYtDQ5Aj5j2-7JVx9Og1KP5qK2mJ41Pe2mEe-m53l8LrB6Y9kbq9VMSHhRl3EIXGnNd6w7pAnjruDBWqOqwi_zIov58I3aX09LsRsYlBOwkUT9_uEsVWdVDaG7pb7kGfXXs8A/s1600/www.paseotvstream.blogspot.com.png" autoplay data-shaka-player id="video" autoplay="true" style="width:100%;height:100%"></video>
    </div>
    <script>
        const manifestUri =
            'https://dce-fs-live-dazn-cdn.dazn.com/dashdrm/dazn-linear-037/stream.mpd';

        async function init() {
            const video = document.getElementById('video');
            const ui = video['ui'];
            const controls = ui.getControls();
            const player = controls.getPlayer();
            const config = {
                'controlPanelElements': ['play_pause', 'rewind', 'fast_forward', 'spacer',
                    'mute', 'volume', 'cast', 'quality', 'fullscreen'
                ]
            }
            player.configure({
                drm: {
                    clearKeys: {
                        // 'key-id-in-hex': 'key-in-hex',
                        '82f8e2a17dac44c0a18f660479349c59': '1b144f73e6fefe91cd05f850e2b589d0',
                    }
                }
            });
            ui.configure(config);

            window.player = player;
            window.ui = ui;

            player.addEventListener('error', onPlayerErrorEvent);
            controls.addEventListener('error', onUIErrorEvent);

            try {
                await player.load(manifestUri);
                console.log('The video has now been loaded!');
            } catch (error) {
                onPlayerError(error);
            }
        }

        function onPlayerErrorEvent(errorEvent) {
            onPlayerError(event.detail);
        }

        function onPlayerError(error) {
            console.error('Error code', error.code, 'object', error);
        }

        function onUIErrorEvent(errorEvent) {
            onPlayerError(event.detail);
        }

        function initFailed(errorEvent) {
            console.error('Unable to load the UI library!');
        }
        document.addEventListener('shaka-ui-loaded', init);
        document.addEventListener('shaka-ui-load-failed', initFailed);
    </script>
</body>

</html>
